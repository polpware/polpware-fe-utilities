{"version":3,"file":"principleware-fe-utilities.js","sources":["../out-tsc/lib/src/promise/inter-op.ts","../out-tsc/lib/src/promise/promise-like.ts","../out-tsc/lib/src/typing/type-checker.ts","../out-tsc/lib/src/promise/monadic-operations.ts","../out-tsc/lib/src/tools/arr.ts","../out-tsc/lib/src/tools/math.ts","../out-tsc/lib/src/tools/str.ts","../out-tsc/lib/src/tools/url.ts","../out-tsc/lib/src/tools/hash.ts","../out-tsc/lib/src/tools/set.ts","../out-tsc/lib/src/typing/type-cast.ts","../out-tsc/lib/principleware-fe-utilities.ts"],"sourcesContent":["\n/**\n * Extends a given promise into a deferred object of jQuery.\n * With this extension, we are able to chain together jQuery deferred\n * objects (which are also promise objects.)\n * @param {?} promise\n * @return {?}\n */\nexport function tojQueryDeferred(promise) {\n    if (!promise.always) {\n        promise.always = function(onFulfilled) {\n            return this.then(onFulfilled, onFulfilled);\n        };\n    }\n    if (!promise.done) {\n        promise.done = function(onFulfilled) {\n            return this.then(onFulfilled);\n        };\n    }\n    if (!promise.fail) {\n        promise.fail = function(onRejected) {\n            return this.then(null, onRejected);\n        };\n    }\n    if (!promise.progress) {\n        promise.progress = function() {\n            return this;\n        };\n    }\n    if (!promise.promise) {\n        promise.promise = function() {\n            return this;\n        };\n    }\n    return promise;\n}\n","\n/**\n * @param {?} fn\n * @return {?}\n */\nfunction asap(fn) {\n    setTimeout(fn, 1);\n}\n/**\n * @param {?} fn\n * @param {?} thisArg\n * @return {?}\n */\nfunction bind(fn, thisArg) {\n    return function() {\n        fn.apply(thisArg, arguments);\n    };\n}\n\nvar /** @type {?} */ isArray = Array.isArray || function(value) { return Object.prototype.toString.call(value) === \"[object Array]\"; };\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n * \n * Makes no guarantees about asynchrony.\n * @param {?} fn\n * @param {?} onFulfilled\n * @param {?} onRejected\n * @return {?}\n */\nfunction doResolve(fn, onFulfilled, onRejected) {\n    var /** @type {?} */ done = false;\n    try {\n        fn(function(value) {\n            if (done) {\n                return;\n            }\n            done = true;\n            onFulfilled(value);\n        }, function(reason) {\n            if (done) {\n                return;\n            }\n            done = true;\n            onRejected(reason);\n        });\n    } catch ( /** @type {?} */ex) {\n        if (done) {\n            return;\n        }\n        done = true;\n        onRejected(ex);\n    }\n}\n/**\n * @param {?} deferred\n * @return {?}\n */\nfunction handle(deferred) {\n    var /** @type {?} */ me = this;\n    if (this._state === null) {\n        this._deferreds.push(deferred);\n        return;\n    }\n    asap(function() {\n        var /** @type {?} */ cb, /** @type {?} */ ret;\n        cb = me._state ? deferred.onFulfilled : deferred.onRejected;\n        if (cb === null) {\n            (me._state ? deferred.resolve : deferred.reject)(me._value);\n            return;\n        }\n        try {\n            ret = cb(me._value);\n        }\n        catch ( /** @type {?} */e) {\n            deferred.reject(e);\n            return;\n        }\n        deferred.resolve(ret);\n    });\n}\n/**\n * @return {?}\n */\nfunction finale() {\n    var /** @type {?} */ i, /** @type {?} */ len;\n    /*jslint plusplus:true */\n    for (i = 0, len = this._deferreds.length; i < len; i++) {\n        handle.call(this, this._deferreds[i]);\n    }\n    this._deferreds = null;\n}\n/**\n * @param {?} newValue\n * @return {?}\n */\nfunction reject(newValue) {\n    this._state = false;\n    this._value = newValue;\n    finale.call(this);\n}\n/**\n * @param {?} newValue\n * @return {?}\n */\nfunction resolve(newValue) {\n    try { //Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n        if (newValue === this) {\n            throw new TypeError('A promise cannot be resolved with itself.');\n        }\n        if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n            var /** @type {?} */ then = newValue.then;\n            if (typeof then === 'function') {\n                doResolve(bind(then, newValue), bind(resolve, this), bind(reject, this));\n                return;\n            }\n        }\n        this._state = true;\n        this._value = newValue;\n        finale.call(this);\n    } catch ( /** @type {?} */e) { reject.call(this, e); }\n}\n/**\n * Defines a dummy promise, which simulates the behavior of a normal Promise\n * but is suitable used in synchronous call.\n * This resulted object is also a jQuery deferred object, therefore,\n * it will be resolved by the jQuery deferred object if it is a resolved value in\n * the jQuery deferred object.\n * @template T\n * @param {?} fn\n * @return {?}\n */\nexport function DummyPromise<T>(fn: (resolve: (value?: T | PromiseLike<T>) => void, reject: (reason?) => void) => void) {\n    if (typeof this !== 'object') {\n        throw new TypeError('Promises must be constructed via new');\n    }\n    if (typeof fn !== 'function') {\n        throw new TypeError('not a function');\n    }\n    this._state = null;\n    this._value = null;\n    this._deferreds = [];\n\n    doResolve(fn, bind(resolve, this), bind(reject, this));\n}\n/**\n * @param {?} onFulfilled\n * @param {?} onRejected\n * @param {?} resolve\n * @param {?} reject\n * @return {?}\n */\nfunction Handler(onFulfilled, onRejected, resolve, reject) {\n    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n    this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n    this.resolve = resolve;\n    this.reject = reject;\n}\n\n\nDummyPromise.prototype['catch'] = function(onRejected) {\n    return this.then(null, onRejected);\n};\n\nDummyPromise.prototype.then = function(onFulfilled, onRejected) {\n    const /** @type {?} */ me = this;\n    return new DummyPromise(function(resolve, reject) {\n        handle.call(me, new Handler(onFulfilled, onRejected, resolve, reject));\n    });\n};\n\nDummyPromise.prototype.all = function(arrayArg) {\n    var /** @type {?} */ args = Array.prototype.slice.call(arguments.length === 1 && isArray(arrayArg) ? arrayArg : arguments);\n\n    return new DummyPromise(function(resolve, reject) {\n        if (args.length === 0) {\n            return resolve([]);\n        }\n        var /** @type {?} */ remaining = args.length, /** @type {?} */ i;\n/**\n * @param {?} i\n * @param {?} val\n * @return {?}\n */\nfunction res(i, val) {\n            try {\n                if (val && (typeof val === 'object' || typeof val === 'function')) {\n                    var /** @type {?} */ then = val.then;\n                    if (typeof then === 'function') {\n                        then.call(val, function(val) { res(i, val); }, reject);\n                        return;\n                    }\n                }\n                args[i] = val;\n\n                /*jslint plusplus: true */\n                if (--remaining === 0) {\n                    resolve(args);\n                }\n            } catch ( /** @type {?} */ex) {\n                reject(ex);\n            }\n        }\n        /*jslint plusplus: true */         for (i = 0; i < args.length; i++) {\n            res(i, args[i]);\n        }\n    });\n};\n\nDummyPromise.prototype.resolve = function(value) {\n    if (value && typeof value === 'object' && value.constructor === DummyPromise) {\n        return value;\n    }\n\n    return new DummyPromise(function(resolve) {\n        resolve(value);\n    });\n};\n\nDummyPromise.prototype.reject = function(value) {\n    /*jslint unparam: true */\n    return new DummyPromise(function(resolve, reject) {\n        reject(value);\n    });\n};\n\nDummyPromise.prototype.race = function(values) {\n    return new DummyPromise(function(resolve, reject) {\n        var /** @type {?} */ i, /** @type {?} */ len;\n        /*jslint plusplus: true */\n        for (i = 0, len = values.length; i < len; i++) {\n            values[i].then(resolve, reject);\n        }\n    });\n};\n\nDummyPromise.prototype.always = function(onFulfilled) {\n    return this.then(onFulfilled, onFulfilled);\n};\n\nDummyPromise.prototype.done = function(onFulfilled) {\n    return this.then(onFulfilled);\n};\n\nDummyPromise.prototype.fail = function(onRejected) {\n    return this.then(null, onRejected);\n};\n\nDummyPromise.prototype.promise = function() {\n    return this;\n};\n\nDummyPromise.prototype.progress = function() {\n    return this;\n};\n","\n/**\n * @param {?} x\n * @return {?}\n */\nexport function isBoolean(x: any): x is boolean {\r\n    return typeof x === 'boolean';\r\n}\n/**\n * @param {?} x\n * @return {?}\n */\nexport function isNumber(x: any): x is number {\r\n    return typeof x === 'number';\r\n}\n/**\n * @param {?} x\n * @return {?}\n */\nexport function isString(x: any): x is string {\r\n    return typeof x === 'string';\r\n}\n/**\n * @param {?} x\n * @return {?}\n */\nexport function isSymbol(x: any): x is symbol {\r\n    return typeof x === 'symbol';\r\n}\n/**\n * @param {?} x\n * @return {?}\n */\nexport function isNull(x: any): x is null {\r\n    return x === null;\r\n}\n/**\n * @param {?} x\n * @return {?}\n */\nexport function isUndefined(x: any): x is undefined {\r\n    return x === undefined;\r\n}\n/**\n * @param {?} x\n * @return {?}\n */\nexport function isArray(x: any): x is Array<any> {\r\n    return x instanceof Array;\r\n}\n/**\n * @param {?} x\n * @return {?}\n */\nexport function isObject(x: any): x is Object {\r\n    return typeof x === 'object';\r\n}\n/**\n * @param {?} x\n * @return {?}\n */\nexport function isFunction(x: any): x is Function {\r\n    return typeof x === 'function';\r\n}\r\n\r\nexport interface ITypeDef {\r\n    name: string,\r\n    val: any,\r\n    pred: (any) => boolean\r\n};\r\n\r\nexport const /** @type {?} */ tyBool: ITypeDef = { name: 'Boolean', val: false, pred: isBoolean };\r\nexport const /** @type {?} */ tyNull: ITypeDef = { name: 'Null', val: null, pred: isNull };\r\nexport const /** @type {?} */ tyUndefined: ITypeDef = { name: 'Undefined', val: undefined, pred: isUndefined };\r\nexport const /** @type {?} */ tyNumber: ITypeDef = { name: 'Number', val: 0, pred: isNumber };\r\nexport const /** @type {?} */ tyString: ITypeDef = { name: 'String', val: '', pred: isString };\r\nexport const /** @type {?} */ tySymbol: ITypeDef = { name: 'Symbol', val: null, pred: isSymbol };\r\nexport const /** @type {?} */ tyObject: ITypeDef = { name: 'Object', val: function() { return {}; }, pred: isObject };\r\nexport const /** @type {?} */ tyArray: ITypeDef = { name: 'Array', val: function() { return []; }, pred: isArray };\r\nexport const /** @type {?} */ tyFunction: ITypeDef = { name: 'Function', val: function() { }, pred: isFunction };\n/**\n * @constant - Predefined types and their properties.\n */\nconst preDefinedTypes: { [key: string]: ITypeDef } = {\r\n    tyBool: tyBool,\r\n    tyNull: tyNull,\r\n    tyUndefined: tyUndefined,\r\n    tyNumber: tyNumber,\r\n    tyString: tyString,\r\n    tySymbol: tySymbol,\r\n    tyObject: tyObject,\r\n    tyArray: tyArray,\r\n    tyFunction: tyFunction\r\n};\n/**\n * Returns the default value for a given type.\n * @param {?} ty\n * @return {?}\n */\nexport function defaultValue(ty: ITypeDef): any {\r\n    let /** @type {?} */ val = ty.val;\r\n    if (ty !== tyFunction && typeof val === 'function') {\r\n        val = val();\r\n    }\r\n    return val;\r\n}\n/**\n * Type checks if a given value is type of the given ty\n * @param {?} value\n * @param {?} ty\n * @return {?}\n */\nexport function ok(value: any, ty: ITypeDef): boolean {\r\n    return ty.pred(value);\r\n}\n/**\n * Returns the type for the given value.\n * @param {?} value\n * @return {?}\n */\nexport function getType(value: any): ITypeDef {\r\n    for (let /** @type {?} */ prop in preDefinedTypes) {\r\n        if (ok(value, preDefinedTypes[prop])) {\r\n            return preDefinedTypes[prop];\r\n        }\r\n    }\r\n    return null;\r\n}\n/**\n * \\@function assert\n * @param {?} value\n * @param {?} ty\n * @return {?}\n */\nexport function assert(value: any, ty: ITypeDef): void {\r\n    if (ok(value, ty)) {\r\n        return;\r\n    }\r\n    throw new Error('type check error: exptected type is ' +\r\n        ty + ' but given type is ' + typeof value);\r\n}\r\n","// \r\n// Author:: Tom Tang <principleware@gmail.com>\r\n// Copyright:: Copyright (c) 2017, Tom Tang\r\n// \r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n// \r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n// \r\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n// \r\n// Except as contained in this notice, the name(s) of the above copyright\r\n// holders shall not be used in advertising or otherwise to promote the\r\n// sale, use or other dealings in this Software without prior written\r\n// authorization.\r\n\r\n\r\n\nimport { DummyPromise } from './promise-like';\r\nimport * as typeChecker from '../typing/type-checker';\n/**\n * Lifts a single value or a function into a Promise-like object.\rProvides a method of wrapping a single value or a function  into a Promise,\rin order that the following operation \rmay conform to the standard Promise operation.\rIn some scenario, we may first attempt to get a value from cache.\rMotivation.\rIn this case, we need to return a value. However, if the value is\rnot available in the cache, we may have to go ahead to load it\rasynchronously. Loading a value asynchronously usually returns\ra Promise. To untify the return from two cases, we\rescalate a single value into a Promise.\n * @template T\n * @param {?} value\n * @param {?} thisArg\n * @return {?}\n */\nexport function lift<T>(value: T, thisArg: Object): PromiseLike<T> {\r\n    /*jslint unparam: true */\r\n    return new DummyPromise(function(resolve, reject) {\r\n        if (typeChecker.isFunction(value)) {\r\n            const /** @type {?} */ restArgs = [];\r\n            /*jslint plusplus: true */\r\n            for (let /** @type {?} */ i = 2; i < arguments.length; i++) {\r\n                restArgs.push(arguments[i]);\r\n            }\r\n            const /** @type {?} */ ret = value.apply(thisArg || null, restArgs);\r\n            resolve(ret);\r\n        } else {\r\n            resolve(value);\r\n        }\r\n    });\r\n}\n/**\n * Lifts a value into an rejected state.\n * @template T\n * @param {?} value\n * @return {?}\n */\nexport function liftIntoReject<T>(value: T): PromiseLike<T> {\r\n    return new DummyPromise(function(resolve, reject) {\r\n        /*jslint unparam: true */\r\n        reject(value);\r\n    });\r\n}\n/**\n * Converts a given promise into another promise which ensures that\rthe given guard evalutes to be true from the state of the given promise.\n * @template T\n * @param {?} promise\n * @param {?} guard\n * @return {?}\n */\nexport function liftWithGuard<T>(promise: PromiseLike<T>, guard: (x: T) => boolean): PromiseLike<T> {\r\n    return promise.then(function(data) {\r\n        return new DummyPromise(function(resolve, reject) {\r\n            if (guard(data)) {\r\n                resolve(data);\r\n            } else {\r\n                reject(data);\r\n            }\r\n        });\r\n    });\r\n}\n/**\n * Settles a promise.\n * @template T\n * @param {?} promise\n * @return {?}\n */\nexport function settle<T>(promise: PromiseLike<T>): PromiseLike<T> {\r\n    return new DummyPromise(function(resolve) {\r\n        promise.then(function(value) {\r\n            resolve({\r\n                state: 'fulfilled',\r\n                data: value\r\n            });\r\n        }, function() {\r\n            resolve({\r\n                state: 'rejected'\r\n            });\r\n        });\r\n    });\r\n}\n/**\n * Converts the given promise into a promise which does not reject anything.\n * @template T\n * @param {?} promise\n * @param {?} guard\n * @return {?}\n */\nexport function liftToPredicate<T>(promise: PromiseLike<T>, guard: (x: T) => boolean): PromiseLike<boolean> {\r\n    return new DummyPromise(function(resolve, reject) {\r\n        /*jslint unparam: true */\r\n        promise.then(function(data) {\r\n            resolve(guard(data));\r\n        }, function() {\r\n            resolve(false);\r\n        });\r\n    });\r\n}\r\n\r\n\r\nexport interface IPipelineSettings<U> {\r\n    validator?: (x) => boolean,\r\n    adaptor: (x) => U\r\n}\n/**\n * Transforms a given promise with additonal pipeline processing.\rSpecifically, in this method, compared to the given promise, the return\rpromise contains validating and adpating stages.\n * @template T, U\n * @param {?} readerPromise\n * @param {?} settings\n * @return {?}\n */\nexport function readerPipeline<T, U>(readerPromise: PromiseLike<T>, settings: IPipelineSettings<U>) {\r\n    return readerPromise\r\n        .then(function(data) {\r\n            if (settings.validator) {\r\n                if (!settings.validator(data)) {\r\n                    throw new Error('Data is not valid: ' + data);\r\n                }\r\n            }\r\n            return data;\r\n        })\r\n        .then(function(data) {\r\n            return settings.adaptor(data);\r\n        });\r\n}\n/**\n * Transforms a given promise into one promise with our own implementation.\n * @template T\n * @param {?} promise\n * @return {?}\n */\nexport function transform<T>(promise: PromiseLike<T>): PromiseLike<T> {\r\n    return new DummyPromise(function(resolve, reject) {\r\n        promise.then(resolve, reject);\r\n    });\r\n}\r\n","\n/**\n * Pushs an array or a single value into the thisArg;\n * @template T\n * @param {?} thisArg\n * @param {?} src\n * @return {?}\n */\nexport function pushArray<T>(thisArg: Array<T>, src: Array<T> | T): void {\r\n    if (!(src instanceof Array)) {\r\n        thisArg.push(src);\r\n        return;\r\n    }\r\n\r\n    src.forEach(function(item) {\r\n        thisArg.push(item);\r\n    });\r\n}\n/**\n * Turns the values in an object into an array\n * @param {?} o\n * @return {?}\n */\nexport function makeArray(o: Object) {\r\n    const /** @type {?} */ ret = [];\r\n    for (let /** @type {?} */ n in o) {\r\n        if (o.hasOwnProperty(n)) {\r\n            ret.push(o[n]);\r\n        }\r\n    }\r\n    return ret;\r\n}\r\n","\n/**\n * Generates a guid.\n * @return {?}\n */\nexport function guid() {\r\n    let /** @type {?} */ d = new Date().getTime();\r\n    const /** @type {?} */ uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n        const /** @type {?} */ r = (d + Math.random() * 16) % 16 | 0;\r\n        d = Math.floor(d / 16);\r\n        return (c === 'x' ? r : (r & 0x7 | 0x8)).toString(16);\r\n    });\r\n    return uuid;\r\n}\n/**\n * Generates a random number between the given range\n * @param {?} min\n * @param {?} max\n * @return {?}\n */\nexport function getRandomInt(min, max) {\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n","\n/**\n * Replaces the placeholders a given format with the given parameters.\n * @param {?} format\n * @param {?} params\n * @return {?}\n */\nexport function replace(format: string, params: { [key: string]: any }): string {\r\n    /*jslint unparam: true */\r\n    return format.replace(/\\{([a-zA-Z]+)\\}/g, function(s, key) {\r\n        return (typeof params[key] === 'undefined') ? '' : params[key];\r\n    });\r\n}\n/**\n * Transforms the given string into one where\rsome characters have been properly replaced with\rtheir escape versions.\n * @param {?} data\n * @return {?}\n */\nexport function applyEscape(data: string): string {\r\n    data = data\r\n        .replace(/[\\\\]/g, '\\\\\\\\')\r\n        .replace(/[\\\"]/g, '\\\\\\\"')\r\n        .replace(/[\\/]/g, '\\\\/')\r\n        .replace(/[\\b]/g, '\\\\b')\r\n        .replace(/[\\f]/g, '\\\\f')\r\n        .replace(/[\\n]/g, '\\\\n')\r\n        .replace(/[\\r]/g, '\\\\r')\r\n        .replace(/[\\t]/g, '\\\\t');\r\n    return data;\r\n}\n/**\n * Undo the work by applyEscape. It replaces the escape\rcharacters with their unescaped ones.\n * @param {?} data\n * @return {?}\n */\nexport function reverseEscape(data: string): string {\r\n    data = data\r\n        .replace(/\\\\\\\\/g, '\\\\')\r\n        .replace(/\\\\\\\"/g, '\\\"')\r\n        .replace(/\\\\\\//g, '\\/')\r\n        .replace(/\\\\\\b/g, '\\b')\r\n        .replace(/\\\\\\f/g, '\\f')\r\n        .replace(/\\\\\\n/g, '\\n')\r\n        .replace(/\\\\\\r/g, '\\r')\r\n        .replace(/\\\\\\t/g, '\\t');\r\n    return data;\r\n}\r\n","\n/**\n * Encodes a key-value pair, where a value can be an array.\n * @param {?} key\n * @param {?} value\n * @param {?} str\n * @return {?}\n */\nexport function urlEncodePair(key: string, value: any, str: Array<string>): void {\r\n    if (value instanceof Array) {\r\n        value.forEach((item) => {\r\n            str.push(encodeURIComponent(key) + '[]=' + encodeURIComponent(item));\r\n        });\r\n    } else {\r\n        str.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\r\n    }\r\n}\n/**\n * Encodes an object in www form.\n * @param {?} data\n * @return {?}\n */\nexport function urlEncode(data: Object): string {\r\n    const /** @type {?} */ str: Array<string> = [];\r\n    for (let /** @type {?} */ p in data) {\r\n        if (data.hasOwnProperty(p)) {\r\n            urlEncodePair(p, data[p], str);\r\n        }\r\n    }\r\n    return str.join('&').replace(/%20/g, '+');\r\n}\n/**\n * @param {?} name\n * @param {?} url\n * @return {?}\n */\nexport function getParamByName(name: string, url: string): string | null {\r\n    name = name.replace(/[\\[\\]]/g, '\\\\$&');\r\n    const /** @type {?} */ regex = new RegExp('[?#&]' + name + '(=([^&#]*)|&|#|$)');\r\n    const /** @type {?} */ results = regex.exec(url);\r\n    if (!results) {\r\n        return null;\r\n    }\r\n    if (!results[2]) {\r\n        return '';\r\n    }\r\n    return decodeURIComponent(results[2].replace(/\\+/g, ' '));\r\n}\n/**\n * @param {?} name\n * @param {?=} url\n * @return {?}\n */\nexport function getQueryParamByName(name: string, url?: string): string | null {\r\n    if (!url) {\r\n        url = window.location.href;\r\n    }\r\n    return getParamByName(name, url);\r\n}\n/**\n * @param {?} name\n * @param {?=} url\n * @return {?}\n */\nexport function getHashParamByName(name: string, url?: string): string | null {\r\n    if (!url) {\r\n        url = window.location.hash;\r\n    }\r\n    return getParamByName(name, url);\r\n}\r\n","/**\n * @fileOverview\n * Provides utilities for computing hash values\n */\n\n\nimport * as typeChecker from '../typing/type-checker';\n/**\n * Computes the hash code for a given value.\n * This method takes into account the type of the given\n * value when generating its hash code.\n * @param {?} value\n * @return {?}\n */\nexport function hashCode(value: any): number {\n    let /** @type {?} */ hash = 0;\n    if (typeChecker.ok(value, typeChecker.tyBool)) {\n        value = value ? 1 : 0;\n    } else if (typeChecker.ok(value, typeChecker.tyNumber)) {\n        if (value === 0) {\n            return 0;\n        }\n    }\n\n    if (!value) {\n        return 0;\n    }\n\n    value = value.toString();\n    if (value.length === 0) {\n        return hash;\n    }\n    /*jslint plusplus: true */\n    for (let /** @type {?} */ i = 0, /** @type {?} */ len = value.length; i < len; i++) {\n        const /** @type {?} */ chr = value.charCodeAt(i);\n        hash = ((hash << 5) - hash) + chr;\n        hash |= 0; // Convert to 32bit integer\n    }\n    return hash;\n}\n/**\n * Computes the hash code for a member of an object.\n * @param {?} name\n * @param {?} value\n * @param {?} configuration\n * @return {?}\n */\nfunction hashPrimitiveMember(name: string, value: any, configuration: { [key: string]: number }) {\n    const /** @type {?} */ code = hashCode(value);\n    if (configuration) {\n        const /** @type {?} */ bits = configuration[name];\n        if (bits) {\n            return code << configuration[name];\n        }\n    }\n    return code;\n}\n/**\n * Computes the hash code for a member of an object, based on\n * the given member member, the value to be hashed, and the configuration\n * about how each member contributes to the enire hash code of the\n * object.\n * @param {?} name\n * @param {?} value\n * @param {?} configuration\n * @return {?}\n */\nexport function hashMember(name: string, value: any, configuration: { [key: string]: number }) {\n    if (typeChecker.ok(value, typeChecker.tyArray)) {\n        let /** @type {?} */ code = 0;\n        /*jslint plusplus: true */\n        for (let /** @type {?} */ i = 0; i < value.length; i++) {\n            code = code + hashPrimitiveMember(name, value[i], configuration);\n        }\n        return code;\n    }\n    return hashPrimitiveMember(name, value, configuration);\n}\n","\n/**\n * @template T, U\n * @param {?} firstSet\n * @param {?} secondSet\n * @param {?} predicate\n * @return {?}\n */\nexport function diff<T, U>(firstSet: Array<T>,\r\n    secondSet: Array<U>,\r\n    predicate: (firstElem: T, secondElem: U) => boolean): Array<T> {\r\n    return firstSet.filter((x: T) => {\r\n        const /** @type {?} */ secondIndex = secondSet.findIndex((y: U) => {\r\n            return predicate(x, y);\r\n        });\r\n        return secondIndex === -1;\r\n    });\r\n}\r\n\r\n","import * as typeChecker from './type-checker';\n/**\n * @param {?} value\n * @return {?}\n */\nexport function safeParseString(value: any): string {\r\n    if (!value) {\r\n        return '';\r\n    }\r\n\r\n    return value.toString();\r\n}\n/**\n * Parses a given value into an integer.\n * @param {?} value\n * @return {?}\n */\nexport function safeParseInt(value: any): number {\r\n    if (!value) {\r\n        return 0;\r\n    }\r\n    if (typeChecker.ok(value, typeChecker.tyString)) {\r\n        return parseInt(value, 10);\r\n    }\r\n    if (typeChecker.ok(value, typeChecker.tyNumber)) {\r\n        return value;\r\n    }\r\n    return 0;\r\n}\n/**\n * Parses a given value into a float number.\n * @param {?} value\n * @return {?}\n */\nexport function safeParseFloat(value: any): number {\r\n    if (!value) {\r\n        return 0.00;\r\n    }\r\n    if (typeChecker.ok(value, typeChecker.tyString)) {\r\n        return parseFloat(value);\r\n    }\r\n    if (typeChecker.ok(value, typeChecker.tyNumber)) {\r\n        return value;\r\n    }\r\n    return 0.00;\r\n}\n/**\n * Parses a given value into a bool value.\n * @param {?} value\n * @return {?}\n */\nexport function safeParseBool(value: any): boolean {\r\n    if (!value) {\r\n        return false;\r\n    }\r\n    if (typeChecker.ok(value, typeChecker.tyBool)) {\r\n        return value;\r\n    }\r\n    if (typeChecker.ok(value, typeChecker.tyString)) {\r\n        return value.toLowerCase() === 'true';\r\n    }\r\n    if (typeChecker.ok(value, typeChecker.tyNumber)) {\r\n        return value > 0;\r\n    }\r\n    return false;\r\n}\n/**\n * Returns if a given value can be safely converted into the given type.\n * @param {?} value\n * @param {?} ty\n * @return {?}\n */\nexport function convertible(value: any, ty: typeChecker.ITypeDef): boolean {\r\n    if (typeChecker.ok(value, ty)) {\r\n        return true;\r\n    }\r\n\r\n    if (typeChecker.isNull(value) || typeChecker.isUndefined(value)) {\r\n        return false;\r\n    }\r\n\r\n    if (ty === typeChecker.tyNumber && isNaN(value)) {\r\n        return false;\r\n    }\r\n\r\n    // TODO: refine\r\n    return true;\r\n}\n/**\n * Safely converts the given value into a value of the given type.\n * @param {?} value\n * @param {?} ty\n * @return {?}\n */\nexport function convert(value: any, ty: typeChecker.ITypeDef): any {\r\n    if (ty === typeChecker.tyNumber) {\r\n        return safeParseFloat(value);\r\n    }\r\n    if (ty === typeChecker.tyBool) {\r\n        return safeParseBool(value);\r\n    }\r\n    if (ty === typeChecker.tyString) {\r\n        return value.toString();\r\n    }\r\n\r\n    throw new Error('Cannot convert the given value to the given type');\r\n}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport {tojQueryDeferred,lift,liftIntoReject,liftWithGuard,settle,liftToPredicate,IPipelineSettings,readerPipeline,transform,DummyPromise,pushArray,makeArray,guid,getRandomInt,replace,applyEscape,reverseEscape,urlEncodePair,urlEncode,getParamByName,getQueryParamByName,getHashParamByName,hashCode,hashMember,diff,safeParseString,safeParseInt,safeParseFloat,safeParseBool,convertible,convert,isBoolean,isNumber,isString,isSymbol,isNull,isUndefined,isArray,isObject,isFunction,ITypeDef,tyBool,tyNull,tyUndefined,tyNumber,tyString,tySymbol,tyObject,tyArray,tyFunction,defaultValue,ok,getType,assert} from './index';\n"],"names":["isArray","typeChecker.isFunction","typeChecker.ok","typeChecker.tyBool","typeChecker.tyNumber","typeChecker.tyArray","typeChecker.tyString","typeChecker.isNull","typeChecker.isUndefined"],"mappings":"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"}